{#
  Title: Reviews
  Description: Reviews
  Category: formatting
  Icon: cover-image
  Keywords: hero runner
  Mode: edit
  SupportsAlign: center
  SupportsMode: false
  SupportsMultiple: false
#}

{# Import settings macros #}
{% import "_atoms/block_settings.twig" as settings %}

<div class="{{ settings.bg_class(fields.background_colour) }} {{ settings.rounded_classes(fields.rounded_top, fields.rounded_bottom|default(true)) }}">

    <div class="container pb-16 lg:pb-24 2xl:pb-36">

        <span class="flex justify-center flex-wrap mb-6">
            <div class="w-full text-center font-display text-secondary-blue text-2xl text-balance">{{ options.reviews_sub_heading }}</div>
            <h1 class="w-full text-center text-5xl font-display text-balance">{{ options.reviews_heading }}</h1>
        </span>

        {% set reviews = fields.reviews ?: function('get_field', 'reviews', 'option') %}
        {% if reviews and reviews|length %}
        <div class="gallery-slider reviews-slider relative">
            <div class="my-slider">
                {% for review in reviews %}
                    <div class="px-2">
                        {% include "_components/review-card.twig" with {
                            headline: review.review_headline,
                            copy: review.review_copy,
                            name: review.review_name,
                            class: "bg-white rounded-xl p-6 h-full flex flex-col",
                        } %}
                    </div>
                {% endfor %}
            </div>

            <div class="tns-controls-custom pointer-events-none absolute inset-y-0 left-0 right-0 -bottom-4 flex items-end justify-between px-2">
                <button type="button" data-controls="prev" aria-label="Previous" class="w-10 h-10 flex items-center justify-center btn bg-secondary-blue p-0 rounded-full pointer-events-auto">{{ function('icon','caret-left') }}</button>
                <button type="button" data-controls="next" aria-label="Next" class="w-10 h-10 flex items-center justify-center btn bg-secondary-blue p-0 rounded-full pointer-events-auto">{{ function('icon','caret-right') }}</button>
            </div>
        </div>
        {% endif %}
    </div>

</div>